<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Anxiety In Space</title>
  <style>
  	body { padding: 0; margin: 0; }
	
	.zooms {
	  transition: transform .2s;
	}

	.zooms:hover {
		transform: scale(1.015);
	}
  </style>
  <link
      href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"
      rel="stylesheet"
	/>
	<link href="assets/chippy.png" rel="preload"/>
	<link href="assets/title_screen.mp3" rel="preload"/>
	<link href="assets/pew.mp3" rel="preload"/>
	<link href="assets/story.json" rel="preload"/>
	<script src="main.js"></script>
	<script src="assets/howler.min.js"></script>
</head>

<body>
	<div id="myapp"></div>
	<script>
	const app = Elm.Main.init({
	  node: document.getElementById('myapp'),
	  flags: {"width": window.innerWidth, "height":window.innerHeight}
	});
	const music = new Howl({
		src: ['assets/title_screen.mp3'],
		autoplay: true,
		loop: true,
		volume: 0.2 
	});
	const sound = new Howl({
		src: ['assets/button_bloop.mp3'],
		volume: 2
	});
	const musicIds = {
		"title" : music
	}
	const soundIds = {
		"bloop" : sound
	}
	app.ports.audioControl.subscribe(message =>{
		if (soundIds.hasOwnProperty(message)) {
			//sound.fade(1,0,100);
			soundIds[message].play();
		}
		else if (musicIds.hasOwnProperty(message)) {
			music.fade(1,0,100);
			musicIds[message].play();
		}
	});
	</script>
  </body>
  </html>