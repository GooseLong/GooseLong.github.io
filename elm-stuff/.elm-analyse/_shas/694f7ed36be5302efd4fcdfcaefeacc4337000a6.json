{"moduleDefinition":{"range":[1,1,1,28],"value":{"type":"normal","normal":{"moduleName":{"range":[1,8,1,12],"value":["Main"]},"exposingList":{"range":[1,13,1,28],"value":{"type":"explicit","explicit":[{"range":[1,23,1,27],"value":{"type":"function","function":{"name":"main"}}}]}}}}},"imports":[{"range":[3,1,3,15],"value":{"moduleName":{"range":[3,8,3,15],"value":["Browser"]},"moduleAlias":null,"exposingList":null}},{"range":[4,1,4,38],"value":{"moduleName":{"range":[4,8,4,19],"value":["Browser","Dom"]},"moduleAlias":null,"exposingList":{"range":[4,20,4,38],"value":{"type":"explicit","explicit":[{"range":[4,30,4,37],"value":{"type":"typeOrAlias","typeOrAlias":{"name":"Element"}}}]}}}},{"range":[5,1,5,22],"value":{"moduleName":{"range":[5,8,5,22],"value":["Browser","Events"]},"moduleAlias":null,"exposingList":null}},{"range":[6,1,6,29],"value":{"moduleName":{"range":[6,8,6,15],"value":["Element"]},"moduleAlias":null,"exposingList":{"range":[6,16,6,29],"value":{"type":"all","all":[6,26,6,28]}}}},{"range":[7,1,7,40],"value":{"moduleName":{"range":[7,8,7,26],"value":["Element","Background"]},"moduleAlias":{"range":[7,30,7,40],"value":["Background"]},"exposingList":null}},{"range":[8,1,8,32],"value":{"moduleName":{"range":[8,8,8,22],"value":["Element","Border"]},"moduleAlias":{"range":[8,26,8,32],"value":["Border"]},"exposingList":null}},{"range":[9,1,9,28],"value":{"moduleName":{"range":[9,8,9,20],"value":["Element","Font"]},"moduleAlias":{"range":[9,24,9,28],"value":["Font"]},"exposingList":null}},{"range":[10,1,10,30],"value":{"moduleName":{"range":[10,8,10,21],"value":["Element","Input"]},"moduleAlias":{"range":[10,25,10,30],"value":["Input"]},"exposingList":null}},{"range":[11,1,11,12],"value":{"moduleName":{"range":[11,8,11,12],"value":["Http"]},"moduleAlias":null,"exposingList":null}},{"range":[12,1,12,27],"value":{"moduleName":{"range":[12,8,12,13],"value":["Story"]},"moduleAlias":null,"exposingList":{"range":[12,14,12,27],"value":{"type":"all","all":[12,24,12,26]}}}}],"declarations":[{"range":[19,1,25,10],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[19,1,25,10],"value":{"name":{"range":[19,1,19,5],"value":"main"},"arguments":[],"expression":{"range":[20,5,25,10],"value":{"type":"application","application":[{"range":[20,5,20,20],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Browser"],"name":"element"}}},{"range":[21,9,25,10],"value":{"type":"record","record":[{"range":[21,11,21,22],"value":{"field":{"range":[21,11,21,15],"value":"init"},"expression":{"range":[21,18,21,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"init"}}}}},{"range":[22,11,23,9],"value":{"field":{"range":[22,11,22,15],"value":"view"},"expression":{"range":[22,18,22,22],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"view"}}}}},{"range":[23,11,24,9],"value":{"field":{"range":[23,11,23,17],"value":"update"},"expression":{"range":[23,20,23,26],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"update"}}}}},{"range":[24,11,25,9],"value":{"field":{"range":[24,11,24,24],"value":"subscriptions"},"expression":{"range":[24,27,24,40],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"subscriptions"}}}}}]}}]}}}}}}},{"range":[32,1,36,6],"value":{"type":"typeAlias","typeAlias":{"documentation":null,"name":{"range":[32,12,32,17],"value":"Model"},"generics":[],"typeAnnotation":{"range":[33,5,36,6],"value":{"type":"record","record":{"value":[{"range":[33,7,33,20],"value":{"name":{"range":[33,7,33,12],"value":"story"},"typeAnnotation":{"range":[33,15,33,20],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[33,15,33,20],"value":{"moduleName":[],"name":"Story"}},"args":[]}}}}},{"range":[34,5,35,5],"value":{"name":{"range":[34,7,34,14],"value":"current"},"typeAnnotation":{"range":[34,17,34,27],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[34,17,34,27],"value":{"moduleName":[],"name":"StoryletID"}},"args":[]}}}}},{"range":[35,5,36,5],"value":{"name":{"range":[35,7,35,18],"value":"orientation"},"typeAnnotation":{"range":[35,21,35,32],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[35,21,35,32],"value":{"moduleName":[],"name":"Orientation"}},"args":[]}}}}}]}}}}}},{"range":[39,1,46,6],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[39,1,39,59],"value":{"name":{"range":[39,1,39,5],"value":"init"},"typeAnnotation":{"range":[39,8,39,59],"value":{"type":"function","function":{"left":{"range":[39,8,39,37],"value":{"type":"record","record":{"value":[{"range":[39,10,39,21],"value":{"name":{"range":[39,10,39,15],"value":"width"},"typeAnnotation":{"range":[39,18,39,21],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[39,18,39,21],"value":{"moduleName":[],"name":"Int"}},"args":[]}}}}},{"range":[39,21,39,36],"value":{"name":{"range":[39,23,39,29],"value":"height"},"typeAnnotation":{"range":[39,32,39,35],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[39,32,39,35],"value":{"moduleName":[],"name":"Int"}},"args":[]}}}}}]}}},"right":{"range":[39,41,39,59],"value":{"type":"tupled","tupled":{"values":[{"range":[39,43,39,48],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[39,43,39,48],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},{"range":[39,50,39,57],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[39,50,39,53],"value":{"moduleName":[],"name":"Cmd"}},"args":[{"range":[39,54,39,57],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[39,54,39,57],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}}]}}}]}}}}}}}},"declaration":{"range":[40,1,46,6],"value":{"name":{"range":[40,1,40,5],"value":"init"},"arguments":[{"range":[40,6,40,16],"value":{"type":"var","var":{"value":"windowSize"}}}],"expression":{"range":[41,5,46,6],"value":{"type":"tupled","tupled":[{"range":[41,7,44,8],"value":{"type":"record","record":[{"range":[41,9,41,24],"value":{"field":{"range":[41,9,41,14],"value":"story"},"expression":{"range":[41,17,41,24],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Loading"}}}}},{"range":[42,9,43,7],"value":{"field":{"range":[42,9,42,16],"value":"current"},"expression":{"range":[42,19,42,31],"value":{"type":"application","application":[{"range":[42,19,42,29],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"StoryletID"}}},{"range":[42,30,42,31],"value":{"type":"integer","integer":1}}]}}}},{"range":[43,9,44,7],"value":{"field":{"range":[43,9,43,20],"value":"orientation"},"expression":{"range":[43,23,43,64],"value":{"type":"application","application":[{"range":[43,23,43,35],"value":{"type":"recordAccessFunction","recordAccessFunction":".orientation"}},{"range":[43,36,43,38],"value":{"type":"operator","operator":"<|"}},{"range":[43,39,43,53],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"classifyDevice"}}},{"range":[43,54,43,64],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"windowSize"}}}]}}}}]}},{"range":[45,7,45,113],"value":{"type":"application","application":[{"range":[45,7,45,14],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"map"}}},{"range":[45,15,45,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"StoryMsg"}}},{"range":[45,24,45,26],"value":{"type":"operator","operator":"<|"}},{"range":[45,27,45,35],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Http"],"name":"get"}}},{"range":[45,36,45,113],"value":{"type":"record","record":[{"range":[45,38,45,63],"value":{"field":{"range":[45,38,45,41],"value":"url"},"expression":{"range":[45,44,45,63],"value":{"type":"literal","literal":"assets/story.json"}}}},{"range":[45,65,45,112],"value":{"field":{"range":[45,65,45,71],"value":"expect"},"expression":{"range":[45,74,45,111],"value":{"type":"application","application":[{"range":[45,74,45,89],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Http"],"name":"expectJson"}}},{"range":[45,90,45,98],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"gotStory"}}},{"range":[45,99,45,111],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"storyDecoder"}}}]}}}}]}}]}}]}}}}}}},{"range":[53,1,55,56],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[53,1,53,33],"value":{"name":{"range":[53,1,53,14],"value":"subscriptions"},"typeAnnotation":{"range":[53,17,53,33],"value":{"type":"function","function":{"left":{"range":[53,17,53,22],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,17,53,22],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},"right":{"range":[53,26,53,33],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,26,53,29],"value":{"moduleName":[],"name":"Sub"}},"args":[{"range":[53,30,53,33],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[53,30,53,33],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}}]}}}}}}}},"declaration":{"range":[54,1,55,56],"value":{"name":{"range":[54,1,54,14],"value":"subscriptions"},"arguments":[{"range":[54,15,54,16],"value":{"type":"all","all":{}}}],"expression":{"range":[55,5,55,56],"value":{"type":"application","application":[{"range":[55,5,55,28],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Browser","Events"],"name":"onResize"}}},{"range":[55,29,55,56],"value":{"type":"parenthesized","parenthesized":{"range":[55,30,55,55],"value":{"type":"lambda","lambda":{"patterns":[{"range":[55,31,55,32],"value":{"type":"var","var":{"value":"w"}}},{"range":[55,33,55,34],"value":{"type":"var","var":{"value":"h"}}}],"expression":{"range":[55,38,55,55],"value":{"type":"application","application":[{"range":[55,38,55,51],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"WindowResized"}}},{"range":[55,52,55,53],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"w"}}},{"range":[55,54,55,55],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"h"}}}]}}}}}}}]}}}}}}},{"range":[62,1,64,25],"value":{"type":"typedecl","typedecl":{"documentation":null,"name":{"range":[62,6,62,9],"value":"Msg"},"generics":[],"constructors":[{"range":[63,7,63,28],"value":{"name":{"range":[63,7,63,20],"value":"WindowResized"},"arguments":[{"range":[63,21,63,24],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,21,63,24],"value":{"moduleName":[],"name":"Int"}},"args":[]}}},{"range":[63,25,63,28],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[63,25,63,28],"value":{"moduleName":[],"name":"Int"}},"args":[]}}}]}},{"range":[64,7,64,25],"value":{"name":{"range":[64,7,64,15],"value":"StoryMsg"},"arguments":[{"range":[64,16,64,25],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[64,16,64,25],"value":{"moduleName":["Story"],"name":"Msg"}},"args":[]}}}]}}]}}},{"range":[71,1,86,67],"value":{"type":"function","function":{"documentation":null,"signature":{"range":[71,1,71,44],"value":{"name":{"range":[71,1,71,7],"value":"update"},"typeAnnotation":{"range":[71,10,71,44],"value":{"type":"function","function":{"left":{"range":[71,10,71,13],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[71,10,71,13],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}},"right":{"range":[71,17,71,44],"value":{"type":"function","function":{"left":{"range":[71,17,71,22],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[71,17,71,22],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},"right":{"range":[71,26,71,44],"value":{"type":"tupled","tupled":{"values":[{"range":[71,28,71,33],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[71,28,71,33],"value":{"moduleName":[],"name":"Model"}},"args":[]}}},{"range":[71,35,71,42],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[71,35,71,38],"value":{"moduleName":[],"name":"Cmd"}},"args":[{"range":[71,39,71,42],"value":{"type":"typed","typed":{"moduleNameAndName":{"range":[71,39,71,42],"value":{"moduleName":[],"name":"Msg"}},"args":[]}}}]}}}]}}}}}}}}}}},"declaration":{"range":[72,1,86,67],"value":{"name":{"range":[72,1,72,7],"value":"update"},"arguments":[{"range":[72,8,72,11],"value":{"type":"var","var":{"value":"msg"}}},{"range":[72,12,72,17],"value":{"type":"var","var":{"value":"model"}}}],"expression":{"range":[73,5,86,67],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[74,9,74,26],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"WindowResized"},"patterns":[{"range":[74,23,74,24],"value":{"type":"var","var":{"value":"w"}}},{"range":[74,25,74,26],"value":{"type":"var","var":{"value":"h"}}}]}}},"expression":{"range":[75,13,75,109],"value":{"type":"tupled","tupled":[{"range":[75,15,75,97],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[75,17,75,22],"value":"model"},"updates":[{"range":[75,25,75,96],"value":{"field":{"range":[75,25,75,36],"value":"orientation"},"expression":{"range":[75,39,75,95],"value":{"type":"application","application":[{"range":[75,39,75,51],"value":{"type":"recordAccessFunction","recordAccessFunction":".orientation"}},{"range":[75,52,75,54],"value":{"type":"operator","operator":"<|"}},{"range":[75,55,75,69],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"classifyDevice"}}},{"range":[75,70,75,95],"value":{"type":"record","record":[{"range":[75,72,75,81],"value":{"field":{"range":[75,72,75,77],"value":"width"},"expression":{"range":[75,80,75,81],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"w"}}}}},{"range":[75,83,75,94],"value":{"field":{"range":[75,83,75,89],"value":"height"},"expression":{"range":[75,92,75,93],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"h"}}}}}]}}]}}}}]}}},{"range":[75,99,75,107],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[77,9,77,26],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"StoryMsg"},"patterns":[{"range":[77,18,77,26],"value":{"type":"var","var":{"value":"storyMsg"}}}]}}},"expression":{"range":[78,13,86,67],"value":{"type":"case","case":{"cases":[{"pattern":{"range":[79,17,79,38],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"LoadedStory"},"patterns":[{"range":[79,29,79,38],"value":{"type":"var","var":{"value":"storylets"}}}]}}},"expression":{"range":[80,21,80,71],"value":{"type":"tupled","tupled":[{"range":[80,23,80,59],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[80,25,80,30],"value":"model"},"updates":[{"range":[80,33,80,58],"value":{"field":{"range":[80,33,80,38],"value":"story"},"expression":{"range":[80,41,80,57],"value":{"type":"application","application":[{"range":[80,41,80,47],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Loaded"}}},{"range":[80,48,80,57],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"storylets"}}}]}}}}]}}},{"range":[80,61,80,69],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[82,17,82,40],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"ErrorLoadingStory"},"patterns":[{"range":[82,35,82,40],"value":{"type":"var","var":{"value":"error"}}}]}}},"expression":{"range":[83,21,83,66],"value":{"type":"tupled","tupled":[{"range":[83,23,83,54],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[83,25,83,30],"value":"model"},"updates":[{"range":[83,33,83,53],"value":{"field":{"range":[83,33,83,38],"value":"story"},"expression":{"range":[83,41,83,52],"value":{"type":"application","application":[{"range":[83,41,83,46],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"Error"}}},{"range":[83,47,83,52],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"error"}}}]}}}}]}}},{"range":[83,56,83,64],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}},{"pattern":{"range":[85,17,85,41],"value":{"type":"named","named":{"qualified":{"moduleName":[],"name":"OptionClicked"},"patterns":[{"range":[85,31,85,41],"value":{"type":"var","var":{"value":"storyletid"}}}]}}},"expression":{"range":[86,21,86,67],"value":{"type":"tupled","tupled":[{"range":[86,23,86,55],"value":{"type":"recordUpdate","recordUpdate":{"name":{"range":[86,25,86,30],"value":"model"},"updates":[{"range":[86,33,86,54],"value":{"field":{"range":[86,33,86,40],"value":"current"},"expression":{"range":[86,43,86,53],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"storyletid"}}}}}]}}},{"range":[86,57,86,65],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Cmd"],"name":"none"}}}]}}}],"expression":{"range":[78,18,78,26],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"storyMsg"}}}}}}}],"expression":{"range":[73,10,73,13],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"msg"}}}}}}}}}}},{"range":[93,1,96,21],"value":{"type":"function","function":{"documentation":null,"signature":null,"declaration":{"range":[93,1,96,21],"value":{"name":{"range":[93,1,93,5],"value":"view"},"arguments":[{"range":[93,6,93,11],"value":{"type":"var","var":{"value":"model"}}}],"expression":{"range":[94,5,96,21],"value":{"type":"application","application":[{"range":[94,5,94,17],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"viewStorylet"}}},{"range":[94,23,94,31],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[94,18,94,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[94,24,94,31],"value":"current"}}}},{"range":[94,37,94,49],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[94,32,94,37],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[94,38,94,49],"value":"orientation"}}}},{"range":[94,55,94,61],"value":{"type":"recordAccess","recordAccess":{"expression":{"range":[94,50,94,55],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"model"}}},"name":{"range":[94,56,94,61],"value":"story"}}}},{"range":[95,9,95,11],"value":{"type":"operator","operator":"|>"}},{"range":[95,12,95,23],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":["Element"],"name":"map"}}},{"range":[95,24,95,32],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"StoryMsg"}}},{"range":[96,9,96,11],"value":{"type":"operator","operator":"|>"}},{"range":[96,12,96,18],"value":{"type":"functionOrValue","functionOrValue":{"moduleName":[],"name":"layout"}}},{"range":[96,19,96,21],"value":{"type":"list","list":[]}}]}}}}}}}],"comments":[{"range":[105,1,105,3],"value":"--"},{"range":[104,1,104,19],"value":"-- character image"},{"range":[103,1,103,37],"value":"-- player chooses a dialogue option:"},{"range":[102,1,102,50],"value":"-- player's dialogue choices in a list of buttons"},{"range":[101,1,101,36],"value":"-- their dialogue in a dialogue box"},{"range":[100,1,100,45],"value":"-- character image (alt -> character's name)"},{"range":[90,1,90,8],"value":"-- VIEW"},{"range":[68,1,68,19],"value":"--    | ButtonPush"},{"range":[59,1,59,9],"value":"--UPDATE"},{"range":[50,1,50,17],"value":"-- SUBSCRIPTIONS"},{"range":[29,1,29,9],"value":"-- MODEL"},{"range":[16,1,16,8],"value":"-- MAIN"}]}